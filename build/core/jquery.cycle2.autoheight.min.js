/* Plugin for Cycle2; Copyright (c) 2012-2016 M. Alsup, , D. Dziaduch; v2.1.15 */

!function(r){"use strict";function a(e,i){var n,t=i.autoHeight;if(i.heighIndex=i.heighIndex||[],i.requiredRebuild=!0,"container"==t)n=r(i.slides[i.currSlide]).outerHeight(),i.container.height(n);else if(i._autoHeightRatio)i.container.height(i.container.width()/i._autoHeightRatio);else if("calc"===t||"number"==r.type(t)&&0<=t){if(t="calc"===t?(i._sentinel&&i._sentinel.remove(),function(e){var n=0,t=-1;if(e.slides.each(function(e){var i=r(this).height();t<i&&(t=i,n=e)}),e.autoHeightResizeOncePerSize){if(t in e.heighIndex)return e.requiredRebuild=!1,e.heighIndex[t];e.heighIndex[t]=n}return n}(i)):t>=i.slides.length?0:t,i._sentinel){if(t==i._sentinelIndex&&0!==i.container.height())return;if(i.autoHeightResizeOncePerSize&&!i.requiredRebuild)return}i._sentinelIndex=t,i._sentinel&&i._sentinel.remove(),(t=r(i.slides[t].cloneNode(!0))).removeAttr("id name rel").find("[id],[name],[rel]").removeAttr("id name rel"),t.css({position:"static",visibility:"hidden",display:"block"}).prependTo(i.container).addClass("cycle-sentinel cycle-slide").removeClass("cycle-slide-active"),t.find("*").css("visibility","hidden"),i._sentinel=t}}function l(e,i,n,t,o){t=r(t).outerHeight();i.container.animate({height:t},i.autoHeightSpeed,i.autoHeightEasing)}function s(e,i){i._autoHeightOnResize&&(r(window).off("resize orientationchange",i._autoHeightOnResize),i._autoHeightOnResize=null),i.container.off("cycle-slide-added cycle-slide-removed",a),i.container.off("cycle-destroyed",s),i.container.off("cycle-before",l),i._sentinel&&(i._sentinel.remove(),i._sentinel=null)}r.extend(r.fn.cycle.defaults,{autoHeight:0,autoHeightSpeed:250,autoHeightEasing:null}),r(document).on("cycle-initialized",function(e,i){var n=i.autoHeight,t=r.type(n),o=null;function c(){a(0,i)}"string"!==t&&"number"!==t||(i.container.on("cycle-slide-added cycle-slide-removed",a),i.container.on("cycle-destroyed",s),"container"==n?i.container.on("cycle-before",l):"string"===t&&/\d+\:\d+/.test(n)&&(n=(n=n.match(/(\d+)\:(\d+)/))[1]/n[2],i._autoHeightRatio=n),"number"!==t&&(i._autoHeightOnResize=function(){clearTimeout(o),o=setTimeout(c,50)},r(window).on("resize orientationchange",i._autoHeightOnResize)),setTimeout(c,30),i.container.on("first-image-shown-cycle-on-ios",c))})}(jQuery);